version: "3.1"

intents:
  # basics
  - greet
  - goodbye
  - thank_you
  # flights
  - check_flights
  - inform_departure
  - inform_destination
  - inform_departure_date

entities:
  - GPE
  - DATE

# Slots are variables that store information extracted from user inputs (entities)
slots:
  # Flights
  departure_city:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: GPE
        role: departure

  destination_city:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: GPE
        role: destination

  departure_date:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: DATE
        role: departure

# response actions or custom actions are defined here
responses:
  # basics
  utter_greet:
    - text: "Hello! How can I assist you with your travel plans today?"

  utter_goodbye:
    - text: "Goodbye! Have a great trip!"

  utter_thank_you:
    - text: "You're welcome! Happy to help."

  utter_ask_departure_city:
    - text: "Please provide your departure city."

  utter_ask_destination_city:
    - text: "Please provide your destination."

  utter_ask_departure_date:
    - text: "Please provide your departure date."

  utter_checking_flights:
    - text: "Checking flights from {departure_city} to {destination_city} on {departure_date}"

forms:
  check_flights_form:
    required_slots:
      - departure_city
      - destination_city
      - departure_date

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true